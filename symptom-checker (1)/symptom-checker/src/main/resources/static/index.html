<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Disease Matcher</title>
</head>
<body>
<h1>Disease Matcher</h1>

<input type="text" id="symptoms" placeholder="Enter symptoms separated by commas">
<button onclick="matchDiseases()">Check Diseases</button>

<div id="result"></div>

<script>
    async function matchDiseases() {
        const input = document.getElementById("symptoms").value;
        const symptoms = input.split(",").map(s => s.trim());

        try {
            const response = await fetch("http://localhost:8080/api/diseases/match", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(symptoms)
            });

            const diseases = await response.json();

            const resultDiv = document.getElementById("result");
            if (diseases.length === 0) {
                resultDiv.innerHTML = "<p>No diseases matched.</p>";
            } else {
                resultDiv.innerHTML = "<h2>Matched Diseases:</h2><ul>" +
                    diseases.map(d => `<li><strong>${d.name}</strong>: ${d.description}</li>`).join("") +
                    "</ul>";
            }
        } catch (error) {
            document.getElementById("result").innerText = "Error: " + error;
        }
    }
</script>
</body>
</html>
